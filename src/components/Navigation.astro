---
import { type Categories } from "../utils/microcms";
import CartIcon from "./CartIcon.svelte";

export interface Props {
  className?: string;
  currentPage?: string;
  categories: Categories[];
}
const { className,currentPage, categories } = Astro.props as Props;
---

<nav class={`${className} flex flex-col gap-y-8 text-[28px] leading-8 z-10`} x-data="{ open: false }">
  <div class="absolute top-0 left-0 w-full h-full" x-show="open" x-on:click="open = false" x-transition />
  <h1 class="relative">
    <a href="/">SomeRoom</a>
  </h1>
  <ul class="relative flex flex-col gap-y-4">
    <li>
      <buttton class="cursor-pointer" x-on:click="open = ! open">Products</buttton>
    </li>
    <li>
      <a href="/designers">Designers</a>
    </li>
    <li>
      <a href="/series">Series</a>
    </li>
    <li>
      <CartIcon client:load />
    </li>
    <div class="absolute -top-4 left-[140px] flex flex-col gap-y-4 bg-white p-4" x-show="open" x-on:click.away="open = false">
      {categories.map((category) => (
        <li class="whitespace-nowrap">
          <a href={`/categories/${category.id}`} class={`${currentPage == category.id && ("currentPage")}`}>{category.name}</a>
        </li>
      ))}
    </div>
  </ul>
  <ul class="relative flex flex-col gap-y-4">
    <li>
      <a href="/about" class={`${currentPage == "about" && ("currentPage")}`}>About</a>
    </li>
    <li>
      <a href="/">Contact</a>
    </li>
  </ul>
  </div>
</nav>
